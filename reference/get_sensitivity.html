<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function performs global sensitivity and uncertainty analysis of a coin. You must specify which
parameters of the coin to vary, and the alternatives/distributions for those parameters."><title>Sensitivity and uncertainty analysis of a coin — get_sensitivity • COINr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Sensitivity and uncertainty analysis of a coin — get_sensitivity"><meta property="og:description" content="This function performs global sensitivity and uncertainty analysis of a coin. You must specify which
parameters of the coin to vary, and the alternatives/distributions for those parameters."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">COINr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.14</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/overview.html">Overview</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/v1.html">v1.0 updates</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-guides">Guides</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-guides">
    <h6 class="dropdown-header" data-toc-skip>Construction</h6>
    <a class="dropdown-item" href="../articles/coins.html">Building coins</a>
    <a class="dropdown-item" href="../articles/imputation.html">Imputation of missing data</a>
    <a class="dropdown-item" href="../articles/denomination.html">Denomination</a>
    <a class="dropdown-item" href="../articles/screening.html">Unit screening</a>
    <a class="dropdown-item" href="../articles/treat.html">Outlier treatment</a>
    <a class="dropdown-item" href="../articles/normalise.html">Normalisation</a>
    <a class="dropdown-item" href="../articles/weights.html">Weighting</a>
    <a class="dropdown-item" href="../articles/aggregate.html">Aggregation</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Post-processing</h6>
    <a class="dropdown-item" href="../articles/visualisation.html">Visualisation</a>
    <a class="dropdown-item" href="../articles/analysis.html">Statistical analysis</a>
    <a class="dropdown-item" href="../articles/results.html">Presenting results</a>
    <a class="dropdown-item" href="../articles/adjustments.html">Adjustments and comparisons</a>
    <a class="dropdown-item" href="../articles/sensitivity.html">Sensitivity analysis</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Other</h6>
    <a class="dropdown-item" href="../articles/data_selection.html">Data selection</a>
    <a class="dropdown-item" href="../articles/other_functions.html">Other functions</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/bluefoxr/COINr/">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Sensitivity and uncertainty analysis of a coin</h1>
      <small class="dont-index">Source: <a href="https://github.com/bluefoxr/COINr/blob/HEAD/R/sensitivity.R" class="external-link"><code>R/sensitivity.R</code></a></small>
      <div class="d-none name"><code>get_sensitivity.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function performs global sensitivity and uncertainty analysis of a coin. You must specify which
parameters of the coin to vary, and the alternatives/distributions for those parameters.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_sensitivity</span><span class="op">(</span></span>
<span>  <span class="va">coin</span>,</span>
<span>  <span class="va">SA_specs</span>,</span>
<span>  <span class="va">N</span>,</span>
<span>  SA_type <span class="op">=</span> <span class="st">"UA"</span>,</span>
<span>  <span class="va">dset</span>,</span>
<span>  <span class="va">iCode</span>,</span>
<span>  Nboot <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  quietly <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  check_addresses <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  diagnostic_mode <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>coin</dt>
<dd><p>A coin</p></dd>


<dt>SA_specs</dt>
<dd><p>Specifications of the input uncertainties</p></dd>


<dt>N</dt>
<dd><p>The number of regenerations</p></dd>


<dt>SA_type</dt>
<dd><p>The type of analysis to run. <code>"UA"</code> runs an uncertainty analysis. <code>"SA"</code> runs a sensitivity
analysis (which anyway includes an uncertainty analysis).</p></dd>


<dt>dset</dt>
<dd><p>The data set to extract the target variable from (passed to <code><a href="get_data.html">get_data()</a></code>).</p></dd>


<dt>iCode</dt>
<dd><p>The variable within <code>dset</code> to use as the target variable (passed to <code><a href="get_data.html">get_data()</a></code>).</p></dd>


<dt>Nboot</dt>
<dd><p>Number of bootstrap samples to take when estimating confidence intervals on sensitivity
indices.</p></dd>


<dt>quietly</dt>
<dd><p>Set to <code>TRUE</code> to suppress progress messages.</p></dd>


<dt>check_addresses</dt>
<dd><p>Logical: if <code>FALSE</code> skips the check of the validity of the parameter addresses. Default <code>TRUE</code>,
but useful to set to <code>FALSE</code> if running this e.g. in a Rmd document (because may require user input).</p></dd>


<dt>diagnostic_mode</dt>
<dd><p>Logical: if <code>TRUE</code>, this will additionally attach all coins generated as part of the sensitivity
analysis to the output list. This is intended to be used to check what is going on within the sensitivity analysis.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Sensitivity analysis results as a list, containing:</p><ul><li><p><code>.$Scores</code> a data frame with a row for each unit, and columns are the scores for each replication.</p></li>
<li><p><code>.$Ranks</code> as <code>.$Scores</code> but for unit ranks</p></li>
<li><p><code>.$RankStats</code> summary statistics for ranks of each unit</p></li>
<li><p><code>.$Para</code> a list containing parameter values for each run</p></li>
<li><p><code>.$Nominal</code> the nominal scores and ranks of each unit (i.e. from the original COIN)</p></li>
<li><p><code>.$Sensitivity</code> (only if <code>SA_type = "SA"</code>) sensitivity indices for each parameter. Also confidence intervals if <code>Nboot</code></p></li>
<li><p><code>.$coins</code> (only if <code>diagnostic_mode = TRUE</code>) a list of all coins generated during the sensitivity analysis</p></li>
<li><p>Some information on the time elapsed, average time, and the parameters perturbed.</p></li>
<li><p>Depending on the setting of <code>store_results</code>, may also contain a list of Methods or a list of COINs for each replication.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>COINr implements a flexible variance-based global sensitivity analysis approach, which allows almost any assumption
to be varied, as long as the distribution of alternative values can be described. Variance-based "sensitivity indices"
are estimated using a Monte Carlo design (running the composite indicator many times with a particular combination of
input values). This follows the methodology described in <a href="https://doi.org/10.1111/j.1467-985X.2005.00350.x" class="external-link">doi:10.1111/j.1467-985X.2005.00350.x</a>
.</p>
<p>To understand how this function works, please see <code><a href="../articles/sensitivity.html">vignette("sensitivity")</a></code>. Here, we briefly recap the main input
arguments.</p>
<p>First, you can select whether to run an uncertainty analysis <code>SA_type = "UA"</code> or sensitivity analysis <code>SA_type = "SA"</code>.
The number of replications (regenerations of the coin) is specified by <code>N</code>. Keep in mind that the <em>total</em> number of
replications is <code>N</code> for an uncertainty analysis but is <code>N*(d + 2)</code> for a sensitivity analysis due to the experimental
design used.</p>
<p>To run either types of analysis, you must specify <em>which</em> parts of the coin to vary and <em>what the distributions/alternatives are</em>
This is done using <code>SA_specs</code>, a structured list. See <code><a href="../articles/sensitivity.html">vignette("sensitivity")</a></code> for details and examples.</p>
<p>You also need to specify the target of the sensitivity analysis. This should be an indicator or aggregate that can be
found in one of the data sets of the coin, and is specified using the <code>dset</code> and <code>iCode</code> arguments.</p>
<p>If <code>SA_type = "SA"</code>, it is advisable to set <code>Nboot</code> to e.g. 100 or more, which is the number of bootstrap samples
to take when estimating confidence intervals on sensitivity indices. This does <em>not</em> perform extra regenerations of the
coin, so setting this to a higher number shouldn't have much impact on computational time.</p>
<p>If you want to understand what is going on more deeply in the regenerated coins in the sensitivity analysis, set
<code>diagnostic_mode = TRUE</code> in <code>get_sensitivity()</code>. This will additionally output a list containing every coin that was generated
as part of the sensitivity analysis, and allows you to check in detail whether the coins are generated as you expect.
Clearly it is better to run this on a low sample size as the output can potentially become quite large.</p>
<p>This function replaces the now-defunct <code>sensitivity()</code> from COINr &lt; v1.0.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># for examples, see `vignette("sensitivity")`</span></span></span>
<span class="r-in"><span><span class="co"># (this is because package examples are run automatically and this function can</span></span></span>
<span class="r-in"><span><span class="co"># take a few minutes to run at realistic settings)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="http://www.willbecker.me" class="external-link">William Becker</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

