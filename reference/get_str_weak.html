<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate strengths and weaknesses for a specified unit — get_str_weak • COINr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate strengths and weaknesses for a specified unit — get_str_weak"><meta name="description" content="Generates a table of strengths and weaknesses for a selected unit, based on ranks, or ranks within
a specified grouping variable."><meta property="og:description" content="Generates a table of strengths and weaknesses for a selected unit, based on ranks, or ranks within
a specified grouping variable."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">COINr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.14</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/overview.html">Overview</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/v1.html">v1.0 updates</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-guides" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Guides</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-guides"><li><h6 class="dropdown-header" data-toc-skip>Construction</h6></li>
    <li><a class="dropdown-item" href="../articles/coins.html">Building coins</a></li>
    <li><a class="dropdown-item" href="../articles/imputation.html">Imputation of missing data</a></li>
    <li><a class="dropdown-item" href="../articles/denomination.html">Denomination</a></li>
    <li><a class="dropdown-item" href="../articles/screening.html">Unit screening</a></li>
    <li><a class="dropdown-item" href="../articles/treat.html">Outlier treatment</a></li>
    <li><a class="dropdown-item" href="../articles/normalise.html">Normalisation</a></li>
    <li><a class="dropdown-item" href="../articles/weights.html">Weighting</a></li>
    <li><a class="dropdown-item" href="../articles/aggregate.html">Aggregation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Post-processing</h6></li>
    <li><a class="dropdown-item" href="../articles/visualisation.html">Visualisation</a></li>
    <li><a class="dropdown-item" href="../articles/analysis.html">Statistical analysis</a></li>
    <li><a class="dropdown-item" href="../articles/results.html">Presenting results</a></li>
    <li><a class="dropdown-item" href="../articles/adjustments.html">Adjustments and comparisons</a></li>
    <li><a class="dropdown-item" href="../articles/sensitivity.html">Sensitivity analysis</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Other</h6></li>
    <li><a class="dropdown-item" href="../articles/data_selection.html">Data selection</a></li>
    <li><a class="dropdown-item" href="../articles/other_functions.html">Other functions</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/bluefoxr/COINr/"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generate strengths and weaknesses for a specified unit</h1>
      <small class="dont-index">Source: <a href="https://github.com/bluefoxr/COINr/blob/master/R/results.R" class="external-link"><code>R/results.R</code></a></small>
      <div class="d-none name"><code>get_str_weak.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generates a table of strengths and weaknesses for a selected unit, based on ranks, or ranks within
a specified grouping variable.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_str_weak</span><span class="op">(</span></span>
<span>  <span class="va">coin</span>,</span>
<span>  <span class="va">dset</span>,</span>
<span>  usel <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  topN <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  bottomN <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  withcodes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  use_group <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  unq_discard <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  min_discard <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  report_level <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  with_units <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  adjust_direction <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sig_figs <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-coin">coin<a class="anchor" aria-label="anchor" href="#arg-coin"></a></dt>
<dd><p>A coin</p></dd>


<dt id="arg-dset">dset<a class="anchor" aria-label="anchor" href="#arg-dset"></a></dt>
<dd><p>The data set to extract indicator data from, to use as strengths and weaknesses.</p></dd>


<dt id="arg-usel">usel<a class="anchor" aria-label="anchor" href="#arg-usel"></a></dt>
<dd><p>A selected unit code</p></dd>


<dt id="arg-topn">topN<a class="anchor" aria-label="anchor" href="#arg-topn"></a></dt>
<dd><p>The top N indicators to report</p></dd>


<dt id="arg-bottomn">bottomN<a class="anchor" aria-label="anchor" href="#arg-bottomn"></a></dt>
<dd><p>The bottom N indicators to report</p></dd>


<dt id="arg-withcodes">withcodes<a class="anchor" aria-label="anchor" href="#arg-withcodes"></a></dt>
<dd><p>If <code>TRUE</code> (default), also includes a column of indicator codes. Setting to <code>FALSE</code> may be more useful
in generating reports, where codes are not helpful.</p></dd>


<dt id="arg-use-group">use_group<a class="anchor" aria-label="anchor" href="#arg-use-group"></a></dt>
<dd><p>An optional grouping variable to use for reporting
in-group ranks. Specifying this will report the ranks of the selected unit within the group of <code>use_group</code>
to which it belongs.</p></dd>


<dt id="arg-unq-discard">unq_discard<a class="anchor" aria-label="anchor" href="#arg-unq-discard"></a></dt>
<dd><p>Optional parameter for handling discrete indicators. Some indicators may be binary
variables of the type "yes = 1", "no = 0". These may be picked up as strengths or weaknesses, when they
may not be wanted to be highlighted, since e.g. maybe half of units will have a zero or a one. This argument
takes a number between 0 and 1 specifying a unique value threshold for ignoring indicators as strengths. E.g.
setting <code>prc_unq_discard = 0.2</code> will ensure that only indicators with at least 20% unique values will be
highlighted as strengths or weaknesses. Set to <code>NULL</code> to disable (default).</p></dd>


<dt id="arg-min-discard">min_discard<a class="anchor" aria-label="anchor" href="#arg-min-discard"></a></dt>
<dd><p>If <code>TRUE</code> (default), discards any strengths which correspond to the minimum rank for the given
indicator. See details.</p></dd>


<dt id="arg-report-level">report_level<a class="anchor" aria-label="anchor" href="#arg-report-level"></a></dt>
<dd><p>Aggregation level to report parent codes from. For example, setting
<code>report_level = 2</code> (default) will add a column to the strengths and weaknesses tables which reports the aggregation
group from level 2, to which each reported indicator belongs.</p></dd>


<dt id="arg-with-units">with_units<a class="anchor" aria-label="anchor" href="#arg-with-units"></a></dt>
<dd><p>If <code>TRUE</code> (default), includes indicator units in output tables.</p></dd>


<dt id="arg-adjust-direction">adjust_direction<a class="anchor" aria-label="anchor" href="#arg-adjust-direction"></a></dt>
<dd><p>If <code>TRUE</code>, will adjust directions of indicators according to the "Direction" column
of <code>IndMeta</code>. By default, this is <code>TRUE</code> <em>if</em> <code>dset = "Raw"</code>, and <code>FALSE</code> otherwise.</p></dd>


<dt id="arg-sig-figs">sig_figs<a class="anchor" aria-label="anchor" href="#arg-sig-figs"></a></dt>
<dd><p>Number of significant figures to round values to. If <code>NULL</code> returns values as they are.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing a data frame <code>.$Strengths</code>, and a data frame <code>.$Weaknesses</code>.
Each data frame has columns with indicator code, name, rank and value (for the selected unit).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This currently only works at the indicator level. Indicators with <code>NA</code> values for the selected unit are ignored.
Strengths and weaknesses mean the <code>topN</code>-ranked indicators for the selected unit. Effectively, this takes the rank that the
selected unit has in each indicator, sorts the ranks, and takes the top N highest and lowest.</p>
<p>This function must be used with a little care: indicators should be adjusted for their directions before use,
otherwise a weakness might be counted as a strength, and vice versa. Use the <code>adjust_direction</code> parameter
to help here.</p>
<p>A further useful parameter is <code>unq_discard</code>, which also filters out any indicators with a low number of
unique values, based on a specified threshold. Also <code>min_discard</code> which filters out any indicators which
have the minimum rank.</p>
<p>The best way to use this function is to play around with the settings a little bit. The reason being that
in practice, indicators have very different distributions and these can sometimes lead to unexpected
outcomes. An example is if you have an indicator with 50% zero values, and the rest non-zero (but unique).
Using the sport ranking system, all units with zero values will receive a rank which is equal to the number
of units divided by two. This then might be counted as a "strength" for some units with overall low scores.
But a zero value can hardly be called a strength. This is where the <code>min_discard</code> function can help out.</p>
<p>Problems such as these mainly arise when e.g. generating a large number of country profiles.</p>
<p>This function replaces the now-defunct <code>getStrengthNWeak()</code> from COINr &lt; v1.0.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># build example coin</span></span></span>
<span class="r-in"><span><span class="va">coin</span> <span class="op">&lt;-</span> <span class="fu"><a href="build_example_coin.html">build_example_coin</a></span><span class="op">(</span>up_to <span class="op">=</span> <span class="st">"new_coin"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># get strengths and weaknesses for ESP</span></span></span>
<span class="r-in"><span><span class="fu">get_str_weak</span><span class="op">(</span><span class="va">coin</span>, dset <span class="op">=</span> <span class="st">"Raw"</span>, usel <span class="op">=</span> <span class="st">"ESP"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Strengths</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        Code                                     Name    Pillar Rank Value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 CostImpEx                    Cost to export/import    Instit    1   0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    TIRcon              Signatory of TIR Convention    Instit    1   1.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   Tourist     Tourist arrivals at national borders       P2P    2  75.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   Flights International flights passenger capacity  Physical    3 171.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    UNVote                      UN voting alignment Political    3  43.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               Unit</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      Current USD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 (1 (yes)/0 (no))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 Number of people</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   Thousand seats</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5            Score</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Weaknesses</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Code                                                         Name   Pillar</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    NEET Proportion of youth not in education, employment or training SusEcFin</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    Lang                                       Common languages users      P2P</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  Forest                                              Net forest loss  Environ</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    TBTs                                  Technical barriers to trade   Instit</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 PubDebt                           Public debt as a percentage of GDP SusEcFin</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Rank   Value                                     Unit</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   33   13.30                                  Percent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   38    5.16                                    Score</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   40    6.93                                  Percent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   40 1210.00 Number of measures (initiated, in force)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   43   99.30                                  Percent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="http://www.willbecker.me" class="external-link">William Becker</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

