<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Find highly-correlated indicators within groups — get_corr_flags • COINr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Find highly-correlated indicators within groups — get_corr_flags"><meta name="description" content="This returns a data frame of any highly correlated indicators within the same aggregation group. The level of the aggregation
grouping can be controlled by the grouplev argument."><meta property="og:description" content="This returns a data frame of any highly correlated indicators within the same aggregation group. The level of the aggregation
grouping can be controlled by the grouplev argument."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">COINr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.14</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/overview.html">Overview</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/v1.html">v1.0 updates</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-guides" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Guides</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-guides"><li><h6 class="dropdown-header" data-toc-skip>Construction</h6></li>
    <li><a class="dropdown-item" href="../articles/coins.html">Building coins</a></li>
    <li><a class="dropdown-item" href="../articles/imputation.html">Imputation of missing data</a></li>
    <li><a class="dropdown-item" href="../articles/denomination.html">Denomination</a></li>
    <li><a class="dropdown-item" href="../articles/screening.html">Unit screening</a></li>
    <li><a class="dropdown-item" href="../articles/treat.html">Outlier treatment</a></li>
    <li><a class="dropdown-item" href="../articles/normalise.html">Normalisation</a></li>
    <li><a class="dropdown-item" href="../articles/weights.html">Weighting</a></li>
    <li><a class="dropdown-item" href="../articles/aggregate.html">Aggregation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Post-processing</h6></li>
    <li><a class="dropdown-item" href="../articles/visualisation.html">Visualisation</a></li>
    <li><a class="dropdown-item" href="../articles/analysis.html">Statistical analysis</a></li>
    <li><a class="dropdown-item" href="../articles/results.html">Presenting results</a></li>
    <li><a class="dropdown-item" href="../articles/adjustments.html">Adjustments and comparisons</a></li>
    <li><a class="dropdown-item" href="../articles/sensitivity.html">Sensitivity analysis</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Other</h6></li>
    <li><a class="dropdown-item" href="../articles/data_selection.html">Data selection</a></li>
    <li><a class="dropdown-item" href="../articles/other_functions.html">Other functions</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/bluefoxr/COINr/"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Find highly-correlated indicators within groups</h1>
      <small class="dont-index">Source: <a href="https://github.com/bluefoxr/COINr/blob/master/R/correlations.R" class="external-link"><code>R/correlations.R</code></a></small>
      <div class="d-none name"><code>get_corr_flags.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This returns a data frame of any highly correlated indicators within the same aggregation group. The level of the aggregation
grouping can be controlled by the <code>grouplev</code> argument.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_corr_flags</span><span class="op">(</span></span>
<span>  <span class="va">coin</span>,</span>
<span>  <span class="va">dset</span>,</span>
<span>  cor_thresh <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  thresh_type <span class="op">=</span> <span class="st">"high"</span>,</span>
<span>  cortype <span class="op">=</span> <span class="st">"pearson"</span>,</span>
<span>  grouplev <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  roundto <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  use_directions <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-coin">coin<a class="anchor" aria-label="anchor" href="#arg-coin"></a></dt>
<dd><p>A coin class object</p></dd>


<dt id="arg-dset">dset<a class="anchor" aria-label="anchor" href="#arg-dset"></a></dt>
<dd><p>The name of the data set to apply the function to, which should be accessible in <code>.$Data</code>.</p></dd>


<dt id="arg-cor-thresh">cor_thresh<a class="anchor" aria-label="anchor" href="#arg-cor-thresh"></a></dt>
<dd><p>A threshold to flag high correlation. Default 0.9.</p></dd>


<dt id="arg-thresh-type">thresh_type<a class="anchor" aria-label="anchor" href="#arg-thresh-type"></a></dt>
<dd><p>Either <code>"high"</code>, which will only flag correlations <em>above</em> <code>cor_thresh</code>, or <code>"low"</code>,
which will only flag correlations <em>below</em> <code>cor_thresh</code>.</p></dd>


<dt id="arg-cortype">cortype<a class="anchor" aria-label="anchor" href="#arg-cortype"></a></dt>
<dd><p>The type of correlation, either <code>"pearson"</code> (default), <code>"spearman"</code> or <code>"kendall"</code>. See <a href="https://rdrr.io/r/stats/cor.html" class="external-link">stats::cor</a>.</p></dd>


<dt id="arg-grouplev">grouplev<a class="anchor" aria-label="anchor" href="#arg-grouplev"></a></dt>
<dd><p>The level to group indicators in. E.g. if <code>grouplev = 2</code> it will look for high correlations between indicators that
belong to the same group in Level 2.</p></dd>


<dt id="arg-roundto">roundto<a class="anchor" aria-label="anchor" href="#arg-roundto"></a></dt>
<dd><p>Number of decimal places to round correlations to. Default 3. Set <code>NULL</code> to disable rounding.</p></dd>


<dt id="arg-use-directions">use_directions<a class="anchor" aria-label="anchor" href="#arg-use-directions"></a></dt>
<dd><p>Logical: if <code>TRUE</code> the extracted data is adjusted using directions found inside the coin (i.e. the "Direction"
column input in <code>iMeta</code>. See comments on this argument in <code><a href="get_corr.html">get_corr()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame with one entry for every indicator pair that is highly correlated within the same group, at the specified level.
Pairs are only reported once, i.e. only uses the upper triangle of the correlation matrix.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function is motivated by the idea that having very highly-correlated indicators within the same group may
amount to double counting, or possibly redundancy in the framework.</p>
<p>This function replaces the now-defunct <code>hicorrSP()</code> from COINr &lt; v1.0.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># build example coin</span></span></span>
<span class="r-in"><span><span class="va">coin</span> <span class="op">&lt;-</span> <span class="fu"><a href="build_example_coin.html">build_example_coin</a></span><span class="op">(</span>up_to <span class="op">=</span> <span class="st">"Normalise"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># get correlations between indicator over 0.75 within level 2 groups</span></span></span>
<span class="r-in"><span><span class="fu">get_corr_flags</span><span class="op">(</span><span class="va">coin</span>, dset <span class="op">=</span> <span class="st">"Normalised"</span>, cor_thresh <span class="op">=</span> <span class="fl">0.75</span>,</span></span>
<span class="r-in"><span>               thresh_type <span class="op">=</span> <span class="st">"high"</span>, grouplev <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Group Ind1      Ind2  Corr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 113 Social  CPI FreePress 0.761</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 116 Social  CPI      NGOs 0.768</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="http://www.willbecker.me" class="external-link">William Becker</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

