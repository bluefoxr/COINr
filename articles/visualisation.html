<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="COINr">
<title>Visualisation • COINr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Visualisation">
<meta property="og:description" content="COINr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">COINr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/overview.html">Overview</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/v1.html">v1.0 updates</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-guides">Guides</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-guides">
    <h6 class="dropdown-header" data-toc-skip>Construction</h6>
    <a class="dropdown-item" href="../articles/coins.html">Building coins</a>
    <a class="dropdown-item" href="../articles/imputation.html">Imputation of missing data</a>
    <a class="dropdown-item" href="../articles/denomination.html">Denomination</a>
    <a class="dropdown-item" href="../articles/screening.html">Unit screening</a>
    <a class="dropdown-item" href="../articles/treat.html">Outlier treatment</a>
    <a class="dropdown-item" href="../articles/normalise.html">Normalisation</a>
    <a class="dropdown-item" href="../articles/weights.html">Weighting</a>
    <a class="dropdown-item" href="../articles/aggregate.html">Aggregation</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Post-processing</h6>
    <a class="dropdown-item" href="../articles/visualisation.html">Visualisation</a>
    <a class="dropdown-item" href="../articles/analysis.html">Statistical analysis</a>
    <a class="dropdown-item" href="../articles/results.html">Presenting results</a>
    <a class="dropdown-item" href="../articles/adjustments.html">Adjustments and comparisons</a>
    <a class="dropdown-item" href="../articles/sensitivity.html">Sensitivity analysis</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Other</h6>
    <a class="dropdown-item" href="../articles/data_selection.html">Data selection</a>
    <a class="dropdown-item" href="../articles/other_functions.html">Other functions</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/bluefoxr/COINr/">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Visualisation</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/bluefoxr/COINr/blob/HEAD/vignettes/visualisation.Rmd" class="external-link"><code>vignettes/visualisation.Rmd</code></a></small>
      <div class="d-none name"><code>visualisation.Rmd</code></div>
    </div>

    
    
<p>COINr has a number of options for plotting and visualising indicator data, both for analysis and presentation. All plots generated by COINr are powered by ggplot2, which means that if you want to customise them beyond the arguments provided by COINr functions, you can simply edit them with ggplot2 commands.</p>
<p>Note that prior to COINr v1.0.0, COINr additionally included interactive visualisation using apps and HTML widgets. This has been discontinued but those functions can still be accessed via the COINrX package. See the <a href="v1.html">vignette</a> on this topic for the reasons behind this and further details.</p>
<div class="section level2">
<h2 id="framework">Framework<a class="anchor" aria-label="anchor" href="#framework"></a>
</h2>
<p>Upon building a coin (see the <a href="coins.html">Building coins</a> vignette), a good way to begin is to check the structure of the index. This can be done visually with the <code><a href="../reference/plot_framework.html">plot_framework()</a></code> function, which generates a sunburst plot of the index structure.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bluefoxr.github.io/COINr/">COINr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># assemble example COIN</span></span>
<span><span class="va">coin</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/build_example_coin.html">build_example_coin</a></span><span class="op">(</span>up_to <span class="op">=</span> <span class="st">"new_coin"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># plot framework</span></span>
<span><span class="fu"><a href="../reference/plot_framework.html">plot_framework</a></span><span class="op">(</span><span class="va">coin</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualisation_files/figure-html/unnamed-chunk-2-1.png" width="480"></p>
<p>The sunburst plot is useful for a few things. First, it shows the structure that COINr has understood. This allows you to check whether the structure agrees with your expectations.</p>
<p>Second, it shows the effective weight of each indicator. Effective weights are the final weights of each indicator in the index, as a result of the indicator weights, the parent aggregate weights, and the structure of the index. This can reveal which indicators are implicitly weighted more than others, by e.g. having more or less indicators in the same aggregation groups. The effective weights can also be accessed directly using the <code><a href="../reference/get_eff_weights.html">get_eff_weights()</a></code> function.</p>
<p>Finally, it can be a good way to communicate your index structure to other people.</p>
<p>The <code><a href="../reference/plot_framework.html">plot_framework()</a></code> function has a few options for colouring. Other than that, if you don’t like sunburst plots, another possibility is to set <code>type = "stack"</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_framework.html">plot_framework</a></span><span class="op">(</span><span class="va">coin</span>, type <span class="op">=</span> <span class="st">"stack"</span>, colour_level <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualisation_files/figure-html/unnamed-chunk-3-1.png" width="576"></p>
<p>This gives a linear representation of the index. Here we have also set the colouring level to the pillar level (see <code><a href="../reference/plot_framework.html">plot_framework()</a></code> documentation). Note that you will probably have to adjust the plot size to get a good figure.</p>
</div>
<div class="section level2">
<h2 id="statistical-plots">Statistical plots<a class="anchor" aria-label="anchor" href="#statistical-plots"></a>
</h2>
<p>Here we explore options for statistical plots, namely distribution and correlation plots.</p>
<div class="section level3">
<h3 id="distributions">Distributions<a class="anchor" aria-label="anchor" href="#distributions"></a>
</h3>
<p>The distribution of any variable, as well as groups of variables, in a coin can be visualised quickly using the <code><a href="../reference/plot_dist.html">plot_dist()</a></code> function. The simplest case is to plot the distribution of a single indicator.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_dist.html">plot_dist</a></span><span class="op">(</span><span class="va">coin</span>, dset <span class="op">=</span> <span class="st">"Raw"</span>, iCodes <span class="op">=</span> <span class="st">"CO2"</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualisation_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<p>To do this, as usual, we have to specify the data set (<code>dset</code>) and the indicator (<code>iCodes</code>) to plot. The data selection for <code><a href="../reference/plot_dist.html">plot_dist()</a></code> is powered by <code><a href="../reference/get_data.html">get_data()</a></code>, which means we can plot subsets of indicator and units. Commonly, with distribution plots, it might be interesting to plot the distributions of all indicators belonging to a particular group - let’s plot all indicator distributions in the “P2P” pillar:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_dist.html">plot_dist</a></span><span class="op">(</span><span class="va">coin</span>, dset <span class="op">=</span> <span class="st">"Raw"</span>, iCodes <span class="op">=</span> <span class="st">"P2P"</span>, Level <span class="op">=</span> <span class="fl">1</span>, type <span class="op">=</span> <span class="st">"Violindot"</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualisation_files/figure-html/unnamed-chunk-5-1.png" width="672"></p>
<p>This plots all eight indicators belonging to that group, and we also specified to plot as “violin-dot” plots. Optionally, data can also be normalised before plotting using the <code>normalise</code> argument. See <code><a href="../reference/plot_dist.html">plot_dist()</a></code> for more details and further options.</p>
<p>A similar function, <code><a href="../reference/plot_dot.html">plot_dot()</a></code> also plots a single indicator using dots but is rather used for highlighting individual units rather than as a statistical plot of the distribution. See <a href="#dot-plots">Dot plots</a> below.</p>
</div>
<div class="section level3">
<h3 id="correlations">Correlations<a class="anchor" aria-label="anchor" href="#correlations"></a>
</h3>
<p>Correlation plots are very useful for understanding relationships between indicators. COINr’s <code><a href="../reference/plot_corr.html">plot_corr()</a></code> function is a flexible tool for plotting correlations between almost any variables in a coin, and visualising them according to the structure of the index.</p>
<p>One thing to keep in mind from the outset is the directionality of your indicators: if some are negative then this will probably be reflected in the correlation plots, unless you normalise the data first. With that in mind, we will build the full example coin including the normalisation step and then plot some correlations:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">coin</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/build_example_coin.html">build_example_coin</a></span><span class="op">(</span>quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Now let’s do a basic plot of correlations within a group:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_corr.html">plot_corr</a></span><span class="op">(</span><span class="va">coin</span>, dset <span class="op">=</span> <span class="st">"Normalised"</span>, iCodes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Physical"</span><span class="op">)</span>, Levels <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualisation_files/figure-html/unnamed-chunk-7-1.png" width="480"></p>
<p>Notice the syntax: we have to specify <code>iCodes</code> as a list here, and specify the level to get data from. In this case we have specified that we want the indicators (level 1) of the “Physical” group to be correlated against each other. As usual these arguments are passed to <code><a href="../reference/get_data.html">get_data()</a></code>.</p>
<p>The reason that <code>iCodes</code> is specified as a list is that we can pass two character vectors to it, possibly from different levels:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_corr.html">plot_corr</a></span><span class="op">(</span><span class="va">coin</span>, dset <span class="op">=</span> <span class="st">"Aggregated"</span>,</span>
<span>          iCodes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Flights"</span>, <span class="st">"LPI"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Physical"</span>, <span class="st">"P2P"</span><span class="op">)</span><span class="op">)</span>, Levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualisation_files/figure-html/unnamed-chunk-8-1.png" width="384"></p>
<p>The point being that we can select any set of indicators or aggregates, and correlate them with any other set. We can also pass further arguments to <code><a href="../reference/get_data.html">get_data()</a></code> such as groupings and unit selection, if needed.</p>
<p>Other useful features include the possibility to correlate a set of indicators with only its parent groups - this is done by setting <code>withparent = "family"</code>. Here we also set to a discrete colour scheme using <code>flagcolours = TRUE</code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_corr.html">plot_corr</a></span><span class="op">(</span><span class="va">coin</span>, dset <span class="op">=</span> <span class="st">"Aggregated"</span>, iCodes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Sust"</span><span class="op">)</span>, withparent <span class="op">=</span> <span class="st">"family"</span>, flagcolours <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualisation_files/figure-html/unnamed-chunk-9-1.png" width="384"></p>
<p>Notice that boxes are drawn around aggregation groups in this case. As a final example, we show how boxes and groups can be used to show subsets of correlation matrices. Typically the most interesting correlations are within aggregation groups because weak correlations cause less information to be transferred to the aggregate. We can only show in-group correlations using the <code>grouplev</code> argument, which takes an aggregation level to group indicators at:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_corr.html">plot_corr</a></span><span class="op">(</span><span class="va">coin</span>, dset <span class="op">=</span> <span class="st">"Normalised"</span>, iCodes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Sust"</span><span class="op">)</span>,</span>
<span>          grouplev <span class="op">=</span> <span class="fl">2</span>, flagcolours <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualisation_files/figure-html/unnamed-chunk-10-1.png" width="672"></p>
<p>This can also be done with the <code>box_level</code> argument, which can be used additionally to highlight groupings at different levels:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_corr.html">plot_corr</a></span><span class="op">(</span><span class="va">coin</span>, dset <span class="op">=</span> <span class="st">"Normalised"</span>, grouplev <span class="op">=</span> <span class="fl">3</span>, box_level <span class="op">=</span> <span class="fl">2</span>, showvals <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualisation_files/figure-html/unnamed-chunk-11-1.png" width="672"></p>
<p>In this case we have also disabled correlation values themselves. Other options include using different types of correlations, and changing colours. For details, see the help page of <code><a href="../reference/plot_corr.html">plot_corr()</a></code>. It is also worth mentioning that underneath, <code><a href="../reference/plot_corr.html">plot_corr()</a></code> calls <code><a href="../reference/get_corr.html">get_corr()</a></code>, so if you are interested in correlation matrices rather than plots, use that.</p>
</div>
</div>
<div class="section level2">
<h2 id="indicator-plots">Indicator plots<a class="anchor" aria-label="anchor" href="#indicator-plots"></a>
</h2>
<p>In this section we examine some options for visualising individual indicators, in particular with the aim of seeing how different units compare to one another.</p>
<div class="section level3">
<h3 id="bar">Bar<a class="anchor" aria-label="anchor" href="#bar"></a>
</h3>
<p>A simple way to look at a set of scores for an indicator is with a bar chart:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_bar.html">plot_bar</a></span><span class="op">(</span><span class="va">coin</span>, dset <span class="op">=</span> <span class="st">"Raw"</span>, iCode <span class="op">=</span> <span class="st">"CO2"</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualisation_files/figure-html/unnamed-chunk-12-1.png" width="672"></p>
<p>The <code><a href="../reference/plot_bar.html">plot_bar()</a></code> function returns a bar chart of single indicator, sorted from high to low values. We can also colour this by any of the grouping variables found in the coin</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_bar.html">plot_bar</a></span><span class="op">(</span><span class="va">coin</span>, dset <span class="op">=</span> <span class="st">"Raw"</span>, iCode <span class="op">=</span> <span class="st">"CO2"</span>, by_group <span class="op">=</span> <span class="st">"GDPpc_group"</span>, axes_label <span class="op">=</span> <span class="st">"iName"</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualisation_files/figure-html/unnamed-chunk-13-1.png" width="672"></p>
<p>Here we have also set <code>axes_label = "iName"</code> to output indicator names rather than codes. Several other options are available, including a log scale, and colouring options. Here we just show one more thing, which is the possibility to break bars down into underlying component scores. This only works if we are plotting an aggregate score (i.e. level 2 or higher), rather than an indicator, because it looks for the underlying scores used to calculate each aggregate score. For example, we can see how the Sustainability scores break down into their three underlying components, for each country:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_bar.html">plot_bar</a></span><span class="op">(</span><span class="va">coin</span>, dset <span class="op">=</span> <span class="st">"Aggregated"</span>, iCode <span class="op">=</span> <span class="st">"Sust"</span>, stack_children <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualisation_files/figure-html/unnamed-chunk-14-1.png" width="672"></p>
</div>
<div class="section level3">
<h3 id="dot-plots">Dot plots<a class="anchor" aria-label="anchor" href="#dot-plots"></a>
</h3>
<p>COINr’s dot plot is pretty similar to a distribution plot but is intended for showing the position of a particular unit or units relative to its peers. This means that to make it useful, you should also select one or more units to highlight.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_dot.html">plot_dot</a></span><span class="op">(</span><span class="va">coin</span>, dset <span class="op">=</span> <span class="st">"Raw"</span>, iCode <span class="op">=</span> <span class="st">"LPI"</span>, usel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"JPN"</span>, <span class="st">"ESP"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualisation_files/figure-html/unnamed-chunk-15-1.png" width="384"></p>
<p>Here we have plotted the “LPI” indicator and highlighted Spain and Japan. We can also add a statistic of this indicator, such as the median:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_dot.html">plot_dot</a></span><span class="op">(</span><span class="va">coin</span>, dset <span class="op">=</span> <span class="st">"Raw"</span>, iCode <span class="op">=</span> <span class="st">"LPI"</span>, usel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"JPN"</span>, <span class="st">"ESP"</span><span class="op">)</span>, add_stat <span class="op">=</span> <span class="st">"median"</span>,</span>
<span>         stat_label <span class="op">=</span> <span class="st">"Median"</span>, plabel <span class="op">=</span> <span class="st">"iName+unit"</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualisation_files/figure-html/unnamed-chunk-16-1.png" width="384"></p>
<p>Here we have also labelled the statistic using <code>stat_label</code>, and labelled the x-axis using the indicator name and unit which are taken from the indicator metadata found within the coin.</p>
</div>
<div class="section level3">
<h3 id="scatter">Scatter<a class="anchor" aria-label="anchor" href="#scatter"></a>
</h3>
<p>The <code><a href="../reference/plot_scatter.html">plot_scatter()</a></code> function gives a quick way to plot scatter plots between any indicators or any variables in a coin.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_scatter.html">plot_scatter</a></span><span class="op">(</span><span class="va">coin</span>, dsets <span class="op">=</span> <span class="st">"Raw"</span>, iCodes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Goods"</span>, <span class="st">"Services"</span><span class="op">)</span>, point_label <span class="op">=</span> <span class="st">"uCode"</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualisation_files/figure-html/unnamed-chunk-17-1.png" width="384"></p>
<p>Variables can come from different data sets (including unit metadata), and we can also colour by groups:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_scatter.html">plot_scatter</a></span><span class="op">(</span><span class="va">coin</span>, dsets <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"uMeta"</span>, <span class="st">"Raw"</span><span class="op">)</span>, iCodes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Population"</span>, <span class="st">"Flights"</span><span class="op">)</span>,</span>
<span>             by_group <span class="op">=</span> <span class="st">"GDPpc_group"</span>, log_scale <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualisation_files/figure-html/unnamed-chunk-18-1.png" width="480"></p>
<p>Here we have also converted the x-axis to a log scale since population is highly skewed. Other options can be found in the help page of <code><a href="../reference/plot_scatter.html">plot_scatter()</a></code>, and all plots can be further modified using ggplot2 commands.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by William Becker.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
