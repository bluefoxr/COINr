<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="COINr">
<title>Overview • COINr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Overview">
<meta property="og:description" content="COINr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">COINr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.3.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/overview.html">Overview</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/v1.html">v1.0 updates</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-guides">Guides</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-guides">
    <h6 class="dropdown-header" data-toc-skip>Construction</h6>
    <a class="dropdown-item" href="../articles/coins.html">Building coins</a>
    <a class="dropdown-item" href="../articles/imputation.html">Imputation of missing data</a>
    <a class="dropdown-item" href="../articles/denomination.html">Denomination</a>
    <a class="dropdown-item" href="../articles/screening.html">Unit screening</a>
    <a class="dropdown-item" href="../articles/treat.html">Outlier treatment</a>
    <a class="dropdown-item" href="../articles/normalise.html">Normalisation</a>
    <a class="dropdown-item" href="../articles/weights.html">Weighting</a>
    <a class="dropdown-item" href="../articles/aggregate.html">Aggregation</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Post-processing</h6>
    <a class="dropdown-item" href="../articles/visualisation.html">Visualisation</a>
    <a class="dropdown-item" href="../articles/analysis.html">Statistical analysis</a>
    <a class="dropdown-item" href="../articles/results.html">Presenting results</a>
    <a class="dropdown-item" href="../articles/adjustments.html">Adjustments and comparisons</a>
    <a class="dropdown-item" href="../articles/sensitivity.html">Sensitivity analysis</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Other</h6>
    <a class="dropdown-item" href="../articles/data_selection.html">Data selection</a>
    <a class="dropdown-item" href="../articles/other_functions.html">Other functions</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/bluefoxr/COINr/">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Overview</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/bluefoxr/COINr/blob/HEAD/vignettes/overview.Rmd" class="external-link"><code>vignettes/overview.Rmd</code></a></small>
      <div class="d-none name"><code>overview.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette introduces and gives an overview of the <strong>COINr
package</strong>. COINr is a high-level R package which is the first
fully-flexible development and analysis environment for composite
indicators and scoreboards.</p>
<p>This vignette is one of quite a few vignettes which document the
package. Here, the aim is to give a quick introduction and overview of
the package. The other vignettes deal with specific operations.</p>
<p>As of COINr v1.0.0 some radical changes have been introduced. Most
notably for existing users, is the change in syntax. This is an
unfortunate one-off necessity and the changes (and how to survive them,
or roll back to the old version of COINr) are described in an extra
vignette called <a href="v1.html">Changes in v1.0</a>.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>COINr is on CRAN and can be installed by running:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"COINr"</span><span class="op">)</span></span></code></pre></div>
<p>Or simply browsing for the package in R Studio. The CRAN version will
be updated every 1-2 months or so. If you want the very latest version
in the meantime (I am usually adding features and fixing bugs as I find
them), you can install the development version from GitHub. First,
install the ‘remotes’ package if you don’t already have it, then
run:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"bluefoxr/COINr"</span><span class="op">)</span></span></code></pre></div>
<p>This should directly install the package from Github, without any
other steps. You may be asked to update packages. This might not be
strictly necessary, so you can also try skipping this step if you
prefer.</p>
<p>Once the package is installed, it can be loaded as follows:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bluefoxr.github.io/COINr/">COINr</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="features">Features<a class="anchor" aria-label="anchor" href="#features"></a>
</h2>
<p>The main features of the COINr package are those for building the
composite indicator by performing operations on the data, those for
analysing/post-processing, and those for visualisation. Here, the main
functions are briefly listed (this list is not exhaustive):</p>
<p><strong>Building</strong> functions begin with a capital letter,
except for <code><a href="../reference/new_coin.html">new_coin()</a></code> which is used to initialise a coin
object</p>
<table class="table">
<thead><tr class="header">
<th align="left">Function</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><code><a href="../reference/new_coin.html">new_coin()</a></code></td>
<td align="left">Initialise a coin object given indicator data and
metadata</td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/Screen.html">Screen()</a></code></td>
<td align="left">Screen units based on data availability rules</td>
</tr>
<tr class="odd">
<td align="left"><code><a href="../reference/Denominate.html">Denominate()</a></code></td>
<td align="left">Denominate/scale indicators by other indicators</td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/Impute.html">Impute()</a></code></td>
<td align="left">Impute missing data</td>
</tr>
<tr class="odd">
<td align="left"><code><a href="../reference/Treat.html">Treat()</a></code></td>
<td align="left">Treat outliers and skewed distributions</td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/qTreat.html">qTreat()</a></code></td>
<td align="left">Simplified-syntax version of <code><a href="../reference/Treat.html">Treat()</a></code>
</td>
</tr>
<tr class="odd">
<td align="left"><code><a href="../reference/Normalise.html">Normalise()</a></code></td>
<td align="left">Normalise indicators onto a common scale</td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/qNormalise.html">qNormalise()</a></code></td>
<td align="left">Simplified-syntax version of
<code><a href="../reference/Normalise.html">Normalise()</a></code>
</td>
</tr>
<tr class="odd">
<td align="left"><code><a href="../reference/Aggregate.html">Aggregate()</a></code></td>
<td align="left">Aggregate indicators using weighted mean</td>
</tr>
</tbody>
</table>
<p>Building functions are defined as those that modify the data (by
creating an additional data set). They also keep a record of their
arguments inside the coin, which allows coins to be
<em>regenerated</em>. See <a href="adjustments.html">Adjustments and
Comparisons</a>.</p>
<p><strong>Analysing</strong> functions include those multivariate
analysis, weight optimisation and sensitivity analysis, as well as those
for reporting results:</p>
<table class="table">
<thead><tr class="header">
<th align="left">Function</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><code><a href="../reference/get_corr.html">get_corr()</a></code></td>
<td align="left">Get correlations between any indicator/aggregate
sets</td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/get_corr_flags.html">get_corr_flags()</a></code></td>
<td align="left">Find high or low-correlated indicators within
groups</td>
</tr>
<tr class="odd">
<td align="left"><code><a href="../reference/get_cronbach.html">get_cronbach()</a></code></td>
<td align="left">Get Cronbach’s alpha for any set of indicators</td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/get_data.html">get_data()</a></code></td>
<td align="left">Get subsets of indicator data</td>
</tr>
<tr class="odd">
<td align="left"><code><a href="../reference/get_data_avail.html">get_data_avail()</a></code></td>
<td align="left">Get data availability details of each unit</td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/get_denom_corr.html">get_denom_corr()</a></code></td>
<td align="left">Get high correlations between indicators and
denominators</td>
</tr>
<tr class="odd">
<td align="left"><code><a href="../reference/get_eff_weights.html">get_eff_weights()</a></code></td>
<td align="left">Get effective weights at index level</td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/get_opt_weights.html">get_opt_weights()</a></code></td>
<td align="left">Get optimised weights</td>
</tr>
<tr class="odd">
<td align="left"><code><a href="../reference/get_results.html">get_results()</a></code></td>
<td align="left">Get conveniently-arranged results tables</td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/get_sensitivity.html">get_sensitivity()</a></code></td>
<td align="left">Perform a global uncertainty or sensitivity
analysis</td>
</tr>
<tr class="odd">
<td align="left"><code><a href="../reference/get_stats.html">get_stats()</a></code></td>
<td align="left">Get a table of indicator statistics</td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/get_str_weak.html">get_str_weak()</a></code></td>
<td align="left">Highest and lowest-ranking indicators for a given
unit</td>
</tr>
<tr class="odd">
<td align="left"><code><a href="../reference/get_unit_summary.html">get_unit_summary()</a></code></td>
<td align="left">Summary of scores and ranks for a given unit</td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/remove_elements.html">remove_elements()</a></code></td>
<td align="left">Test the effect of removing indicators or
aggregates</td>
</tr>
</tbody>
</table>
<p><strong>Plotting</strong> functions generate plots using the ggplot2
package:</p>
<table class="table">
<thead><tr class="header">
<th align="left">Function</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><code><a href="../reference/plot_bar.html">plot_bar()</a></code></td>
<td align="left">Bar chart of a single indicator or aggregate</td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/plot_corr.html">plot_corr()</a></code></td>
<td align="left">Heat maps of correlations between
indicators/aggregates</td>
</tr>
<tr class="odd">
<td align="left"><code><a href="../reference/plot_dist.html">plot_dist()</a></code></td>
<td align="left">Statistical plots of indicator/aggregate
distributions</td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/plot_dot.html">plot_dot()</a></code></td>
<td align="left">Dot plot of an indictaor/aggregate with unit
highlighting</td>
</tr>
<tr class="odd">
<td align="left"><code><a href="../reference/plot_framework.html">plot_framework()</a></code></td>
<td align="left">Sunburst or linear plot of indicator framework</td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/plot_scatter.html">plot_scatter()</a></code></td>
<td align="left">Scatter plot between two indicators/aggregates</td>
</tr>
<tr class="odd">
<td align="left"><code><a href="../reference/plot_sensitivity.html">plot_sensitivity()</a></code></td>
<td align="left">Plots of sensitivity indices</td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/plot_uncertainty.html">plot_uncertainty()</a></code></td>
<td align="left">Plots of confidence intervals on unit ranks</td>
</tr>
</tbody>
</table>
<p><strong>Adjustment and comparison</strong> functions allow copies,
adjustments and comparisons to be made between alternative versions of
the composite indicator:</p>
<table class="table">
<thead><tr class="header">
<th align="left">Function</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><code><a href="../reference/Regen.html">Regen()</a></code></td>
<td align="left">Regenerate results of a coin object</td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/change_ind.html">change_ind()</a></code></td>
<td align="left">Add and remove indicators</td>
</tr>
<tr class="odd">
<td align="left"><code><a href="../reference/compare_coins.html">compare_coins()</a></code></td>
<td align="left">Exports all data frames in the COINr object to an Excel
workbook</td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/compare_coins_multi.html">compare_coins_multi()</a></code></td>
<td align="left">Convert a COINr class object to a COIN class object,
for use in the ‘COINr’ package</td>
</tr>
</tbody>
</table>
<p><strong>Other functions</strong> are useful tools that don’t fit into
the other categories</p>
<table class="table">
<thead><tr class="header">
<th align="left">Function</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><code><a href="../reference/import_COIN_tool.html">import_coin_tool()</a></code></td>
<td align="left">Import data and metadata from the COIN Tool</td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/COIN_to_coin.html">COIN_to_coin()</a></code></td>
<td align="left">Convert an older “COIN” class object to a newer “coin”
class object</td>
</tr>
<tr class="odd">
<td align="left"><code><a href="../reference/build_example_coin.html">build_example_coin()</a></code></td>
<td align="left">Build the example coin using built-in example data</td>
</tr>
<tr class="even">
<td align="left"><code><a href="../reference/build_example_purse.html">build_example_purse()</a></code></td>
<td align="left">Build the example purse using built-in example
data</td>
</tr>
<tr class="odd">
<td align="left"><code><a href="../reference/export_to_excel.html">export_to_excel()</a></code></td>
<td align="left">Export contents of the coin to Excel</td>
</tr>
</tbody>
</table>
<p>All functions are fully documented and individual function help can
be accessed in the usual way by <code>?function_name</code>.</p>
<p>The COINr package is loosely object oriented, in the sense that the
composite indicator is encapsulated in an S3 class object called a
“coin”, and a time-indexed collection of coins is called a “purse” (see
<a href="coins.html">Building coins</a>) Most of the main functions
listed in the previous tables take this “coin” class as the main input
(and often also as the output) with other function arguments specifying
how to apply the function. E.g. the syntax is typically:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">coin</span> <span class="op">&lt;-</span> <span class="fu">COINr_function</span><span class="op">(</span><span class="va">coin</span>, <span class="va">function_arguments</span><span class="op">)</span></span></code></pre></div>
<p>Many of the main COINr functions are <em>generics</em>: they have
methods also for data frames, purses, and in some cases numeric vectors.
This means that COINr functions can also be used for ad-hoc operations
without needing to build coins.</p>
</div>
<div class="section level2">
<h2 id="quick-example">Quick example<a class="anchor" aria-label="anchor" href="#quick-example"></a>
</h2>
<p>The COINr package contains some example data which is used in most of
the vignettes to demonstrate the functions, and this comes from the <a href="https://composite-indicators.jrc.ec.europa.eu/asem-sustainable-connectivity/" class="external-link">ASEM
Sustainable Connectivity Portal</a>. It is a data set of 49 indicators
covering 51 Asian and European countries, measuring “sustainable
connectivity”. Here we work through building a composite indicator, and
link to the other vignettes for more details.</p>
<p>Before proceeding, let’s clearly define a few terms first to avoid
confusion later on.</p>
<ul>
<li><p>An <em>indicator</em> is a variable which has an observed value
for each unit. Indicators might be things like life expectancy, CO2
emissions, number of tertiary graduates, and so on.</p></li>
<li><p>A <em>unit</em> is one of the entities that you are comparing
using indicators. Often, units are countries, but they could also be
regions, universities, individuals or even competing policy options (the
latter is the realm of multicriteria decision analysis).</p></li>
</ul>
<p>We begin by building a new “coin”. To build a coin you need two data
frames which are inputs to the <code><a href="../reference/new_coin.html">new_coin()</a></code> function. See the
vignette on <a href="coins.html">Building coins</a> for more details on
this.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ASEM</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/new_coin.html">new_coin</a></span><span class="op">(</span><span class="va">ASEM_iData</span>, <span class="va">ASEM_iMeta</span>, level_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Indicator"</span>, <span class="st">"Pillar"</span>, <span class="st">"Sub-index"</span>, <span class="st">"Index"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; iData checked and OK.</span></span>
<span><span class="co">#&gt; iMeta checked and OK.</span></span>
<span><span class="co">#&gt; Written data set to .$Data$Raw</span></span></code></pre></div>
<p>The output of <code><a href="../reference/new_coin.html">new_coin()</a></code> is a coin class object with a
single data set called “Raw”:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ASEM</span></span>
<span><span class="co">#&gt; --------------</span></span>
<span><span class="co">#&gt; A coin with...</span></span>
<span><span class="co">#&gt; --------------</span></span>
<span><span class="co">#&gt; Input:</span></span>
<span><span class="co">#&gt;   Units: 51 (AUS, AUT, BEL, ...)</span></span>
<span><span class="co">#&gt;   Indicators: 49 (Goods, Services, FDI, ...)</span></span>
<span><span class="co">#&gt;   Denominators: 4 (Area, Energy, GDP, ...)</span></span>
<span><span class="co">#&gt;   Groups: 4 (GDP_group, GDPpc_group, Pop_group, ...)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Structure:</span></span>
<span><span class="co">#&gt;   Level 1 Indicator: 49 indicators (FDI, ForPort, Goods, ...) </span></span>
<span><span class="co">#&gt;   Level 2 Pillar: 8 groups (ConEcFin, Instit, P2P, ...) </span></span>
<span><span class="co">#&gt;   Level 3 Sub-index: 2 groups (Conn, Sust) </span></span>
<span><span class="co">#&gt;   Level 4 Index: 1 groups (Index) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Data sets:</span></span>
<span><span class="co">#&gt;   Raw (51 units)</span></span></code></pre></div>
<p>Let’s view the structure of the index that we have specified, using
the <code><a href="../reference/plot_framework.html">plot_framework()</a></code> function:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_framework.html">plot_framework</a></span><span class="op">(</span><span class="va">ASEM</span><span class="op">)</span></span></code></pre></div>
<p><img src="overview_files/figure-html/unnamed-chunk-5-1.png" width="480"></p>
<p>See the <a href="visualisation.html">Visualisation</a> vignette for
the full range of plotting options in COINr.</p>
<p>At the moment the coin contains only our raw data. To build the
composite indicator we need to perform operations on the coin. All of
these operations are optional and can be performed in any order. We
begin by <em>denominating</em> the raw data: that is, we divide some of
the indicators by other quantities to make our indicators comparable
between small and large countries. See the vignette on <a href="denomination.html">Denomination</a>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ASEM</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Denominate.html">Denominate</a></span><span class="op">(</span><span class="va">ASEM</span>, dset <span class="op">=</span> <span class="st">"Raw"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Written data set to .$Data$Denominated</span></span></code></pre></div>
<p>The only thing we specify here is that the denomination should be
performed on the “Raw” data set. The other specifications for how to
denominate the indicators were already contained in the data frames that
we input to <code><a href="../reference/new_coin.html">new_coin()</a></code>. Running <code><a href="../reference/Denominate.html">Denominate()</a></code>
has created a new data set called “Denominated” which is reported in the
message when we run the function (we can choose another name if we
wish). This is <em>additional</em> to the “Raw” data set and does not
overwrite it.</p>
<p>Next we will screen units (countries) based on data availability. We
want to ensure that every unit (country) has at least 90% data
availability across all indicators. Screening is done by the
<code><a href="../reference/Screen.html">Screen()</a></code> function:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ASEM</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Screen.html">Screen</a></span><span class="op">(</span><span class="va">ASEM</span>, dset <span class="op">=</span> <span class="st">"Denominated"</span>, dat_thresh <span class="op">=</span> <span class="fl">0.9</span>, unit_screen <span class="op">=</span> <span class="st">"byNA"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Written data set to .$Data$Screened</span></span></code></pre></div>
<p>The details of this function can be found in the <a href="screening.html">Unit screening</a> vignette. Again, by running
this function we have created a new data set. Let’s look again at the
contents of the coin using its <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ASEM</span></span>
<span><span class="co">#&gt; --------------</span></span>
<span><span class="co">#&gt; A coin with...</span></span>
<span><span class="co">#&gt; --------------</span></span>
<span><span class="co">#&gt; Input:</span></span>
<span><span class="co">#&gt;   Units: 51 (AUS, AUT, BEL, ...)</span></span>
<span><span class="co">#&gt;   Indicators: 49 (Goods, Services, FDI, ...)</span></span>
<span><span class="co">#&gt;   Denominators: 4 (Area, Energy, GDP, ...)</span></span>
<span><span class="co">#&gt;   Groups: 4 (GDP_group, GDPpc_group, Pop_group, ...)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Structure:</span></span>
<span><span class="co">#&gt;   Level 1 Indicator: 49 indicators (FDI, ForPort, Goods, ...) </span></span>
<span><span class="co">#&gt;   Level 2 Pillar: 8 groups (ConEcFin, Instit, P2P, ...) </span></span>
<span><span class="co">#&gt;   Level 3 Sub-index: 2 groups (Conn, Sust) </span></span>
<span><span class="co">#&gt;   Level 4 Index: 1 groups (Index) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Data sets:</span></span>
<span><span class="co">#&gt;   Raw (51 units)</span></span>
<span><span class="co">#&gt;   Denominated (51 units)</span></span>
<span><span class="co">#&gt;   Screened (46 units)</span></span></code></pre></div>
<p>Notice that the “Screened” data set now has 46 units because five
have been screened out, having less than 90% data availability.</p>
<p>Next we will impute any remaining missing data points. This can be
done in a variety of ways, but here we choose to impute using the group
mean, i.e. if a country is in the “Asia” group, we replace missing
points by the Asian mean. If a country is in the “Europe” group, we
replace with the European mean.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ASEM</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Impute.html">Impute</a></span><span class="op">(</span><span class="va">ASEM</span>, dset <span class="op">=</span> <span class="st">"Screened"</span>, f_i <span class="op">=</span> <span class="st">"i_mean_grp"</span>, use_group <span class="op">=</span> <span class="st">"EurAsia_group"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Written data set to .$Data$Imputed</span></span></code></pre></div>
<p>This writes another data set called “Imputed”, which has filled in
all the missing data points. Again, we have to specify which data set to
impute, and we have chosen the “Screened” data set. Full details of the
imputation function can be found in the <a href="imputation.html">Imputation</a> vignette.</p>
<p>We would next like to treat any outliers. The <code><a href="../reference/Treat.html">Treat()</a></code>
function gives a number of options, but by default will identify
outliers using skewness and kurtosis thresholds, then Winsorise or
log-transform indicators until they are brought within the specified
thresholds. This function is slightly complicated and full details can
be found in the <a href="treat.html">Outlier treatment</a> vignette.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ASEM</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Treat.html">Treat</a></span><span class="op">(</span><span class="va">ASEM</span>, dset <span class="op">=</span> <span class="st">"Screened"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Written data set to .$Data$Treated</span></span></code></pre></div>
<p>The details of the data treatment can be found inside the coin. A
simplified version of <code><a href="../reference/Treat.html">Treat()</a></code> is also available, called
<code><a href="../reference/qTreat.html">qTreat()</a></code>, which may be easier to use in many cases.</p>
<p>The final step before aggregating is to bring the indicators onto a
common scale by normalising them. The <code><a href="../reference/Normalise.html">Normalise()</a></code> function
will, by default, scale each indicator onto the <span class="math inline">\([0, 100]\)</span> interval using a “min-max”
approach.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ASEM</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Normalise.html">Normalise</a></span><span class="op">(</span><span class="va">ASEM</span>, dset <span class="op">=</span> <span class="st">"Treated"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Written data set to .$Data$Normalised</span></span></code></pre></div>
<p>Again, because <code><a href="../reference/Normalise.html">Normalise()</a></code> is a slightly complex
function (unless it is run at defaults, as above), a simplified version
called <code><a href="../reference/qNormalise.html">qNormalise()</a></code> is also available. Details on
normalisation can be found in the <a href="normalise.html">Normalisation</a> vignette.</p>
<p>To conclude the construction of the composite indicator, we must
aggregate the normalised indicators up within their aggregation groups.
In our example, indicators (level 1) are aggregated into “pillars”
(level 2), which are themselves aggregated up into “sub-indexes” (level
3), which are finally aggregated into a single index (level 4). The
<code><a href="../reference/Aggregate.html">Aggregate()</a></code> function will aggregate following the structure
which was specified in the <code>iMeta</code> argument to
<code><a href="../reference/new_coin.html">new_coin()</a></code>. By default, this is done using the arithmetic
mean, and using weights which were also specified in
<code>iMeta</code>.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ASEM</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Aggregate.html">Aggregate</a></span><span class="op">(</span><span class="va">ASEM</span>, dset <span class="op">=</span> <span class="st">"Normalised"</span>, f_ag <span class="op">=</span> <span class="st">"a_amean"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Written data set to .$Data$Aggregated</span></span></code></pre></div>
<p>Details on aggregation can be found in the <a href="aggregate.html">Aggregation</a> vignette.</p>
<p>We now have a fully-constructed coin with index scores for each
country. How do we look at the results? One way is the
<code><a href="../reference/get_results.html">get_results()</a></code> function which extracts a
conveniently-arranged table of results:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># get results table</span></span>
<span><span class="va">df_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_results.html">get_results</a></span><span class="op">(</span><span class="va">ASEM</span>, dset <span class="op">=</span> <span class="st">"Aggregated"</span>, tab_type <span class="op">=</span> <span class="st">"Aggs"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df_results</span><span class="op">)</span></span>
<span><span class="co">#&gt;   uCode Rank Index  Conn  Sust Physical ConEcFin Political Instit   P2P Environ</span></span>
<span><span class="co">#&gt; 1   CHE    1 68.33 62.18 74.48    64.37    33.30     73.03  83.32 56.87   78.13</span></span>
<span><span class="co">#&gt; 2   DNK    2 64.47 56.05 72.90    50.17    30.52     76.98  71.59 51.01   70.53</span></span>
<span><span class="co">#&gt; 3   NLD    3 64.46 61.32 67.60    68.15    45.11     83.49  67.96 41.86   57.14</span></span>
<span><span class="co">#&gt; 4   NOR    4 64.23 56.53 71.93    57.45    25.39     78.95  87.10 33.75   71.55</span></span>
<span><span class="co">#&gt; 5   BEL    5 63.11 63.02 63.19    71.80    48.65     79.57  71.84 43.27   52.00</span></span>
<span><span class="co">#&gt; 6   SWE    6 62.82 52.88 72.77    51.90    23.93     80.10  70.04 38.43   68.34</span></span>
<span><span class="co">#&gt;   Social SusEcFin</span></span>
<span><span class="co">#&gt; 1  87.63    57.67</span></span>
<span><span class="co">#&gt; 2  86.17    61.99</span></span>
<span><span class="co">#&gt; 3  86.00    59.65</span></span>
<span><span class="co">#&gt; 4  87.04    57.20</span></span>
<span><span class="co">#&gt; 5  85.36    52.22</span></span>
<span><span class="co">#&gt; 6  86.92    63.04</span></span></code></pre></div>
<p>This shows at a glance the top-ranking countries and their scores.
See the <a href="results.html">Presenting Results</a> vignette for more
ways to generate results tables.</p>
<p>We can also generate a bar chart:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_bar.html">plot_bar</a></span><span class="op">(</span><span class="va">ASEM</span>, dset <span class="op">=</span> <span class="st">"Aggregated"</span>, iCode <span class="op">=</span> <span class="st">"Index"</span>, stack_children <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="overview_files/figure-html/unnamed-chunk-14-1.png" width="672"></p>
<p>This also shows the underlying sub-index scores.</p>
<p>We will not explore all functions here. As a final useful step, we
can export the entire contents of the coin to Excel if needed:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># export coin to Excel</span></span>
<span><span class="fu"><a href="../reference/export_to_excel.html">export_to_excel</a></span><span class="op">(</span><span class="va">coin</span>, fname <span class="op">=</span> <span class="st">"example_coin_results.xlsx"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="finally">Finally<a class="anchor" aria-label="anchor" href="#finally"></a>
</h2>
<p>The preceding example covered a number of features of COINr. Features
that were not mentioned can be found in the following vignettes:</p>
<ul>
<li><a href="weights.html">Weights</a></li>
<li><a href="analysis.html">Analysis</a></li>
<li><a href="sensitivity.html">Sensitivity analysis</a></li>
<li><a href="adjustments.html">Adjustments and Comparisons</a></li>
<li><a href="data_selection.html">Data selection</a></li>
<li><a href="other_functions.html">Other functions</a></li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="http://www.willbecker.me" class="external-link">William Becker</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
